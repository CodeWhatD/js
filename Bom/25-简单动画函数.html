<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
      div {
        width: 200px;
        height: 200px;
        background-color: pink;
        position: absolute;
        top: 0;
        left: 0;
      }
      span {
          display: block;
          width: 100px;
          height: 100px;
          background-color: purple;
          top: 50%;
          position: absolute;
      }
    </style>
</head>
<body>
<div></div>
<span></span>
<button>开启span动画</button>
<script>
  var divObj = document.querySelector("div")
  var spanObj = document.querySelector('span')
  var btn = document.querySelector('button')
  var animate = function (obj,target) {
    clearInterval(obj.timer) // 为了配合按钮点击才触发动画 我们开始就要清除一下 避免多次点击按钮 多次添加定时器
    // 为了区分不同的元素有不同的定时器，我们可以直接给这个你传进来的对象进行赋值
    obj.timer = setInterval(function () {
      if(obj.offsetLeft > target){ // 如果你偏移的位置大于了你规定走的地方就该停了，这时候就清除定时器
        clearInterval(obj.timer)
      }
      obj.style.left = obj.offsetLeft + 1 + 'px'
    },30)
  }
  btn.addEventListener('click',function () {
      animate(spanObj,300)
  })
  animate(divObj,300)
</script>
</body>
</html>